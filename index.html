<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js">
</script>
<script>
function GetRandomCountry(){var country="";var countries=new Array("Afghanistan","Albania","Algeria","Andorra","Angola","Antarctica","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo, Democratic Republic","Congo, Republic of the","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Greenland","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Mongolia","Morocco","Monaco","Mozambique","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Samoa","San Marino"," Sao Tome","Saudi Arabia","Senegal","Serbia and Montenegro","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe");country=countries[Math.floor(Math.random()*countries.length)];return country}$(document).ready(function(){$("#random").click(function(){var rand_name=GetRandomCountry();var url="http://en.wikipedia.org/w/api.php?action=query&list=allimages&ailimit=30&format=json&aifrom="+rand_name+"&callback=?";console.log(url);$.getJSON(url,function(data){var rand_num=Math.floor(Math.random()*31);$("#rimg").html("<br> <img src= \""+data.query.allimages[rand_num].url+" \" />")})})});
</script>
<script language="javascript">
var valeur=0;
function modifier(increment) {
    valeur+=increment;
    document.getElementById('text').value=valeur;
    if (valeur != 0) {
	$("#text").val(valeur + ' amis');
    } else {
	$("#text").val(valeur + ' ami');
    }
    if (increment > 0) {
	$("#le-chat").append("<li class='un-pot'><a href='#'>" + filemoiunpotz() + ' ' + is_online() + "</a></li>");
    } else if (increment < 0) {
	$(".un-pot").first().remove();
    }
}
</script>
<style>
h1 {
div.flux{height:100%;width:100%;float:left;position:relative}
img{float:left;max-width:100%;border:1px solid #021a40;margin-right:2cm;padding:1px}
font-family: Verdana, sans-serif;
line-height: 1em;
color: #a1a9ff;
font-weight:bold;
font-style:italic;
font-size: 111px;
text-shadow:0px 0px 0 rgb(103,111,197),1px 1px 0 rgb(93,101,187),2px 2px 0 rgb(83,91,177),3px 3px 0 rgb(74,82,168),4px 4px 0 rgb(64,72,158),5px 5px 0 rgb(54,62,148),6px 6px 0 rgb(44,52,138),7px 7px 0 rgb(34,42,128),8px 8px 0 rgb(24,32,118),9px 9px 0 rgb(15,23,109),10px 10px 0 rgb(5,13,99),11px 11px 0 rgb(-5,3,89),12px 12px 0 rgb(-15,-7,79), 13px 13px 0 rgb(-25,-17,69),14px 14px 13px rgba(0,0,0,0),14px 14px 1px rgba(0,0,0,0.5),0px 0px 13px rgba(0,0,0,.2);}

#jeu{
display: none;}

#boite-chat {
    background-color: rgb(103,111,197);
    width: 400px;
    height: 400px;
    position: absolute;
    bottom: 0px;
    right: 0px;
}

#barduo {
    padding: 2px;
    border-bottom: 1px solid #FFFFFF;
}

#pot-name {
    margin: 0;
    width: 350px;
    float: left;
}

#bardubas {
    position: absolute;
    bottom: 0px;
}

#pot-parle {
    width: 350px;
    float: left;
}

#pot-go {
    width: 50px;
    position: absolute;
    bottom: 0px;
    float: right;
}

#bardubas {
    clear: both;
}

#pot-conv {
    list-style-type: none;
    padding: 0px;
    margin: 0px;
    overflow: scroll;
    height: 330px;
    width: 400px;
    position: absolute;
    top: 30px;
    right: 0px;
}

.kan {
    color: #303030;
}
</style>
</head>
<body>
<center>
<h1>Facebook 2</h1>


<form>
<input type="radio" name="sex" value="male">Connecté<br>
<input type="radio" name="sex" value="female">Déconnecté
</form>

<textarea rows="4" cols="50">
document texte en ligne
</textarea>
<br>

<input type="button" value="enlever un ami" onClick="modifier(-1)">
<input type="text" id="text" value="0" size="6" readonly="true" style="border:#FFFFFF none 0px; text-align:center; font-size:30px">
<input type="button" value="ajouter un ami" onClick="modifier(1)">
<br>


<button onclick="notific()">Notification</button>

<script>
function notific() {
    alert("Vous avez une notification !");
}
</script>


<button onclick="myFunction()">Partager du contenu intéractif</button>
<script>
  function myFunction() {
  var random = Math.floor(Math.random() * 3);
  switch (random) {
    case 0:
      var x = document.createElement("INPUT");
      x.setAttribute("type", "checkbox");
    break;
    case 1:
      var x = document.createElement("INPUT");
      x.setAttribute("type", "radio");
    break;
    case 2:
      var x = document.createElement("INPUT");
      x.setAttribute("type", "button");
      x.setAttribute("value", "x");
    break;
  }
  document.body.appendChild(x);
}</script>

<br><br>


flux d'acutalité :
<br>
<button id="random">Photos</button>
    <div id="rimg"> </div>
<br>

<p>bouton j'aime :<input type="button" class="bouton" id="bou" onclick="grossir()" Value="J'aime">

	<script type="text/javascript">
	var taille = 1;

	function grossir(){
		taille++;
		document.getElementById('bou').style.width = (50 * taille) + "px";
		document.getElementById('bou').style.height = (20 * taille) + "px";
		document.getElementById('bou').style.fontSize = (8 * taille) + "px";
	}
	</script>
	</p>


<input type="button" onclick="jeux()" Value="Jeu">

<div id="jeu">
<br><form>
<input type="radio" name="g"><input type="radio" name="g"><input type="radio" name="g"><input type="radio" name="g"><br>
<input type="radio" name="g"><input type="radio" name="g"><input type="radio" name="g"><input type="radio" name="g"><br>
<input type="radio" name="g"><input type="radio" name="g"><input type="radio" name="g"><input type="radio" name="g"><br>
<input type="radio" name="g"><input type="radio" name="g"><input type="radio" name="g"><input type="radio" name="g"><br>
</form><br>
<input type="button" onclick="stopjeu()" Value="arrêter de jouer">
</div>

<script>

function jeux() {
	document.getElementById("jeu").style.display='block';
	}

function stopjeu() {
document.getElementById("jeu").style.display='none';
}
</script>
</center>

<h2><a href="#" id="oh-le-chat">CHAT</a></h2>
<ul id="le-chat">
</ul>

<div id="boite-chat">
    <div id="barduo">
    <h4 id="pot-name">marcel</h4>
    <div id="kloz"><a href="#">[X]</a></div>
    <div class="nettoyage" /></div>
    </div>
    <ul id="pot-conv">
    </ul>
    <div id="bardubas">
       <input type="text" id="pot-parle" />
       <input type="submit" id="pot-go" value="OK" />
       <div class="nettoyage" />
    </div>
</div>

<script>
var filemoiunpotz = function () {
    var potz = ['Jean', 'Jacques', 'Georges', 'Michel', 'Marcel', 'Raymond', 'Robert', 'Regis', 'Eugene', 'Francois', 'Yves', 'Yvette', 'Gertrude', 'Brigitte', 'Micheline', 'Oui', 'Non', 'Un-Gomme', 'Gros', 'Phil', 'Phil Coupon', 'Gertrude', 'Philemon', 'Daniel', 'Esteban', 'David', 'Antoine', 'Diego', 'Junior', 'Gerard', 'Charles', 'Michael', 'Regis', 'Anakin', 'Renaud', 'Yannick', 'Sebastien', 'Manfred', 'Julien', 'Vadim', 'James', 'Louis', 'Martin', 'Gregoire', 'Vincent', 'Nicolas', 'Sarah', 'Jeanne', 'Daniel', 'Marie', 'Steve', 'Romain', 'Pierre', 'Coralie', 'Laurent', 'Esteban', 'Axel', 'Richard', 'Bob', 'Eude', 'Bastien', 'Yann', 'Edouard', 'Bobby', 'Christian', 'Nathan', 'Alex', 'Aline', 'Momo', 'Sylvain', 'Mohamed', 'Jackie', 'Michelle', 'Jacquie', 'Rodolphe', 'Auguste', 'Augustin', 'Hypolite', 'Gregory', 'Jacqueline', 'Rodrigo', 'Maurice', 'Rocco', 'Chang', 'Bruce', 'Nassim', 'Gwendal', 'Leo', 'Leonard', 'Enzo', 'Claire', 'Manon', 'Camille', 'Jonathan', 'Solvik', 'Gordon', 'Murdoch', 'Anakin', 'Kyle', 'Ken', 'Ryu', 'Agatha', 'Loana', 'Gaspard', 'Baltazar', 'Angus'];
    var super_nom = "";
    var max = Math.random() * 3;
    for (var i = 0; i < max; ++i) {
        super_nom += potz[Math.floor(Math.random() * potz.length)] + '-';
    }
    super_nom += potz[Math.floor(Math.random() * potz.length)];
    return '<span class="name">' + super_nom + '</span>';
}
var is_online = function () {
    if (Math.floor(Math.random() * 2) == 1) {
	return "[<span style='color: #00FF00;'>là</span>]";
    }
    return "[<span style='color: #FF0000;'>paslà</span>]";
}

var potz_num = Math.floor(Math.random() * 10 + 3);
valeur = potz_num;
modifier(0);

for (var i = 0; i < potz_num; ++i) {
    $("#le-chat").append("<li class='un-pot'><a href='#'>" + filemoiunpotz() + ' ' + is_online() + "</a></li>");
}
$("#le-chat").hide();
$("#oh-le-chat").click(function () {
    $("#le-chat").toggle();
    return false;
});
$("#boite-chat").hide();
$('.un-pot').live('click', function () {
    $("#pot-conv").html("");
    $("#boite-chat").show();
    $("#pot-name").html($(this).find(".name").html());
});
$("#kloz").click(function () {
    $("#boite-chat").hide();
});

// ici, fais gaffe
var markov_db = '';
markov_db += "Peu m'importe que tu ne parles pas Peu m'importe que tu n'aies pas de bras Tu danses Tu danses Peu m'importe que tu ne saches pas rigoler Et que tu ne puisses pas m'écouter Près de toi je me sens bien Près de toi je ne sens rien La vie t'a fait comme tu es Et comme tu es tu es beau et Tu danses Tu danses La vie t'a fait comme tu es Et comme tu es tu es beau et Tu DANSES Tu DANSES Peu m'importe que tu manges de la boue Et que tu ne puisses pas te tenir debout Tu danses Tu danses Peu m'importe ta drôle de libido Tu ne respires que sous l'eau Près de toi je me sens bien Près de toi je ne sens rien Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Peu m'importe que tu n'aies pas de dent Quand tu danses tu ne prends pas d'élan Oh non pas d'élan Non non non Non non non Peu m'importe que tu sois tout mou Je suis sûr qu'au fond tu es très fort car Tu danses Tu danses Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Gastéropode Invertébré Escargot des mers ";
markov_db += "FULL HD Full HD FULL HD FULL HD D D D D FULL HD FULLA FULA FULAAAA Dans ma clé usb J'ai une photo de toi Elle pèse 2 méga Mais dans mon cœur Ca fait au moins du 30 giga Et ça rentre même pas Dans ma clé usb J'ai une photo de toi Elle pèse 2 méga Mais dans mon cœur Ca fait au moins du 30 giga Et ça rentre même pas Dans ma clé USB J'ai une photo de toi Full HD Full HD Dans ma clé usb J'ai une photo de toi Elle pèse 2 méga Mais dans mon cœur Ca fait au moins du 30 giga ça prend beaucoup de place Mais ça veut pas dire que tu es grosse C'est mon amour pour toi qui prend toute la place Comme les disques durs qui saturent Et c'est pour ça que j'ai fait la métaphore Je t'aime en haute définition Je t'aime en haute définition FULL H D ! Dans ma clé usb J'ai une photo de toi Elle pèse 2 méga Mais dans mon cœur Ca fait au moins du 30 giga Et ça rentre même pas ";
markov_db += "Les hommes se nourrissent d'animaux sauvages qu'ils chassent et de fruits qu'ils cueillent On les appelle les chasseurs-cueilleurs Ils sont nomades et se déplacent en suivant les principaux troupeaux d'animaux Mais a partir de 12000 av JC ils vont changer d’habitude C’est la révolution néolithique Elle a lieu dans une région que l'on appelle le Croissant fertile CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE CROISSANT CROISSANT FERTILE FERTILE Les hommes vont alors cultiver des céréales C'est l'apparition de l'agriculture vers 8 000 avant JC Née dans le croissant fertile cette révolution que l'on appelle néolithique se diffuse en suivant les grandes voies de communication que sont la vallée du danube et les côtes de la méditerranée Croissant Fertile Croissant Fertile Croissant Fertile Na na na na na naaa En -3500 dans ce même lieu naît l'écriture Ainsi l'homme passe de la préhistoire à l'Histoire ";
markov_db += "Salut J'aimerais savoir comment faire une bonne purée Je sais déjà faire la ratatouille les endives au jambon le gratin Et plein d'autres plats qui n'ont rien à voir avec une bonne purée Quel est votre secret ? Le lait ? Le beurre ? La crème ? Quel est votre secret ? S'il vous plait aidez-moi Quel est votre secret ? Pour faire une bonne purée ce qui est pas mal quand on cuit les pommes de terre C'est de mettre du laurier et du thym pour parfumer en amont Après tu peux ajouter n'importe quel épice Tu peux mettre du safran du curcuma du gingembre Ou une gousse d'ail une fois que les patates sont pétries Et si la purée a cramé Recouvre-la avec un chiffon mouillé Et fais couler du sel dessus Pour absorber les senteurs de brûlé Excuse moi mais c'est pas ça que j'avais demandé Le problème avec ma purée c'est qu'elle n'est pas onctueuse Peux-tu m'expliquer comment obtenir une texture parfaite ? La purée onctueuse ce qu'il faut déjà C'est pas trop la mélanger ou l'écraser Puisque comme dans la purée il y a du gluten ça va devenir très élastique L’utilisation du presse-purée à levier permet d’obtenir une purée plus fine et légère Tout est dans la texture Car la purée trop collante est vraiment très décevante Pense à ça avant de cuisiner et tu réussiras une bonne purée Tu verras c'est plus facile que ça en a l'air Et surtout après ça tu ne voudras plus d'une autre purée J'ai 4 hommes à la maison et ils se régalent tous Il n'en reste jamais ! ";
markov_db += "Brigitte j'ai des sentiments Mais ces sentiments ces sentiments je les connais ? Ces sentiments c'est comme manger le fromage râpé avec les doigts ? Direct dans le sachet ? Et on s'en met partout ? Ces sentiments c'est ça ? Non Mais c'e c'est ça ? Non Mais ces sentiments... Oui ? C'est ça ? Peut-être. Hein ? Ouinonouinonoui oui non. Hein ? Oui non Cest sentiments je les connais ? Ben chaipa trop Mais... Oui ? Hein ? Mais...Oui. Non. Oui ? Non ? Non non oui non oui non non. Oui non non. Oui ? Non ? Oui. Non. Oui. Non. Oui. Non. Oui non ? Non oui non oui non oui non oui non oui nonouinonuoinonounounonioninoinouniuniuinoin Non ? Les sentiments c'est dur à expliquer Les sentiments c'est très très profond Les sentiments c'est dur à expliquer Les sentiments c'est très très profond Très très très. Oui non oui non oui non oui non Oui ? nonnononoiouiuinuouinoinuiooinunnononononouiuoioioiuinonoiu Les sentiments c'est dur à expliquerMais ça dépend. de quoi ? de tout ";
markov_db += "Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Les moutons Le judo Les volcans Le langage Les lunettes Les tomates Les bourdons Les fauteuils Le Pérou La lumière Le foxtrot Le métal La passion Les rollmops La peinture Le tonnerre Les cheveux Les saisons Les égouts Les sapins Les t-shirts Les roulettes Les reflets Le café Les tapis Les bongos Les losanges Les années Les lilas  AAAAAAAAAAAH AAAAAAAAAAH AAAAAAH AAAH AAAAAAAAAAAAAH AAAAAAAAAAAAAAH  Merci sympa sympa merci Merci merci sympa sympa Merci sympa sympa merci Merci merci sympa sympa Merci sympa sympa merci  Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa  Les silences Les autos Le courage Les cravates La méfiance Les écrous Le violet Les dictons Les supplices Les coussins Les fourmis  Le plastique  AAAAAAAAAAAH AAAAAAAAAAH AAAAAAH AAAH AAAAAAAAAAAAAH AAAAAAAAAAAAAAH  Merci sympa sympa merci Merci merci sympa sympa Merci sympa sympa merci Merci merci sympa sympa Merci sympa sympa merci  Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa Merci Nature d'être là Super sympa ... ";
// todo: nourrir le bot avec plus de paroles

function split_phrase(input) {
    input = input.toLowerCase();
    words = input.split(' ');
    res = [];
    for (i = 0; i < words.length; i += 2) {
	if (words[i + 1] != undefined) {
	    res.push(words[i] + ' ' + words[i + 1]);
	}
    }
    return res;
}
		    
var super_db = {};
var morceaux = split_phrase(markov_db);
var previous = '';
for (i in morceaux) {
    if (previous.length) {
	if (super_db[previous] == undefined) {
	    super_db[previous] = {};
	}
	if (super_db[previous][morceaux[i]] == undefined) {
	    super_db[previous][morceaux[i]] = 0;
	}
	super_db[previous][morceaux[i]]++;
    }
    previous = morceaux[i];
}
// ici, super_db contient pour chaque série de mots, les mots suivants possibles avec un coefficient de probabilité

var repondstp = function (pot, text) {
    var response_length = Math.floor(Math.random() * 8 + 1);
    var current = '';
    var morceaux = split_phrase(text.toLowerCase());

    for (var i = morceaux.length; i > 0; --i) {
	var morceau = morceaux[i - 1];
	if (super_db[morceau] != undefined) {
	    current = morceau;
	    break;
	}
    }
	
    // moche
    var reponse = '';
    for (var i = 0; i < response_length; ++i) {

	if (super_db[current] == undefined) {
	    var ks = Object.keys(super_db);
            current = ks[Math.floor(ks.length * Math.random())];
	}
	var tmp = [];	
	for (var j in super_db[current]) {
	    for (var k = 0; k < super_db[current][j]; ++k) {
		tmp.push(j);
	    }
	}
	var morceau = tmp[Math.floor(Math.random() * tmp.length)];
	if (reponse.length != 0) {
	    reponse += ' ';
	}
	reponse += morceau;
	current = morceau;
    }

    return pot + ': ' + reponse + '.';
}

var rrepond = function () {
    var text = $("#pot-parle").val();
    if (text.length > 0) {
	var when = Math.floor(Math.random() * 24) + ':' + Math.floor(Math.random() * 60);
	$("#pot-parle").val('');
	$("#pot-conv").append('<li><span class="kan">' + when + '</span>moi: ' + text + '</li>');
	var response = repondstp($("#pot-name").html(), text);
	$("#pot-conv").append('<li><span class="kan">' + when + '</span> ' + response + '</li>');
    }
}

$("#pot-go").click(function () {
    rrepond();
    return false;
});

$("#pot-parle").keyup(function (event) {
    if (event.keyCode == 13) {
	rrepond();
    }
});
</script>

</body>
</html>
